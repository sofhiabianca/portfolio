<main class="relative bg-[#1800AD] min-h-screen overflow-hidden text-white">
  @if (isLoading()) {
    <div class="fixed inset-0 z-[100] flex flex-col items-center justify-center bg-white animate-in fade-in duration-500">
      <div class="w-64 h-[2px] bg-gray-100 relative overflow-hidden">
        <div class="absolute inset-0 bg-[#1800AD] animate-loading-slide"></div>
      </div>
    </div>
  }
    <div class="absolute inset-0 flex flex-col items-center justify-center select-none z-0 pointer-events-none">
      <h2 class="text-4xl font-light tracking-[0.5em] mb-[-1.5rem] opacity-80">WHAT ARE MY</h2>
      <h1 class="text-[12vw] font-black tracking-tighter leading-none">PROJECTS</h1>
    </div>
  
  @for (f of folders; track f.id) {
    <div 
      [style.top]="f.top" 
      [style.left]="f.left"
      [style.animation-delay]="f.delay"
      class="absolute cursor-pointer z-10 folder-wrapper group flex flex-col items-center"
      (mouseenter)="onHover(f)"
      (mouseleave)="onLeave(f)"
      (click)="openProjectModal(f.id)">
          
      <div class="w-24 h-24 md:w-32 md:h-32 relative">
        <span class="absolute top-0 left-0 z-20 text-[12px] font-black text-white folder-id-text">
          {{ f.id }}
        </span>
        <ng-lottie [options]="options" (animationCreated)="animationCreated($event, f)"></ng-lottie>
      </div>
    </div>
  }
  @if (modalOpen) {
    <div class="fixed inset-0 z-[200] flex items-center justify-center p-4 md:p-8">
      <div 
        class="absolute inset-0 bg-black/70 backdrop-blur-md animate-in fade-in duration-300 ease-in" 
        (click)="closeProjectModal()">
      </div>

      <div class="inner-content-card relative z-[210] max-w-5xl w-full max-h-[90vh] overflow-y-auto 
                  animate-in fade-in zoom-in-95 slide-in-from-bottom-8 duration-500 ease-out">
        
        <button (click)="closeProjectModal()" 
                class="absolute top-6 right-6 text-white hover:text-orange-500 z-50 text-2xl font-bold transition-all hover:scale-110">
          ✕
        </button>

        <div class="project-image-container">
          <img [src]="'/' + selectedProject?.image" 
              class="main-project-img" 
              alt="Project Showcase">
        </div>

        <div class="project-info">
          <h1 class="project-title">
            @if (selectedProject?.link) {
              <a [href]="selectedProject.link" target="_blank" class="project-link">
                {{ selectedProject.title }}
              </a>
            } @else {
              {{ selectedProject.title }}
            }
          </h1>
          <p class="project-description">
            {{ selectedProject.description }}
          </p>
        </div>
      </div>
    </div>
  }
  @if (showCopyright()) {
    <footer class="fixed-signature">
      <p>© 2026 sofhia lacandola</p>
    </footer>
  }
  <nav class="footer-bottom-nav">
    @for (link of ['HOME', 'ABOUT', 'WORKS']; track link) {
      <button 
        (click)="menuNavigation(link)" 
        class="nav-btn"
        [class.active-link]="isActive(link)"
        [class.inactive-link]="!isActive(link)">
        {{ link }}
      </button>
    }
  </nav>
  </main>